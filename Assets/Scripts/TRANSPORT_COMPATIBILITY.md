# üö® –ü—Ä–æ–±–ª–µ–º–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

## üêõ –û—à–∏–±–∫–∞:
```
Client Transport Error: Timeout: kcp2k.KcpClient: Connection timed out after not receiving any message for 10000ms.
```

## üîç –ü—Ä–∏—á–∏–Ω–∞:
**kcp2k —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ù–ï –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–¢ Unity Relay!**

Unity Relay —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π Unity Transport, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å Relay —Å–µ—Ä–≤–µ—Ä–∞–º–∏ –∏ DTLS —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º.

## ‚úÖ –†–µ—à–µ–Ω–∏—è:

### –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ LocalTestManager (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
```
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ Unity Editor
‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞  
‚úÖ –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å matchmaking
‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ "–ø–µ—Ä–≤—ã–π = —Ö–æ—Å—Ç"
```

### –†–µ—à–µ–Ω–∏–µ 2: –ó–∞–º–µ–Ω–∏—Ç–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –Ω–∞ Unity Transport
```
1. –£–¥–∞–ª–∏—Ç—å kcp2k Transport –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. –î–æ–±–∞–≤–∏—Ç—å Unity Transport –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Unity Transport –¥–ª—è Relay
```

### –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Mirror —Å Unity Transport

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Unity Transport:
```
Package Manager ‚Üí Unity Registry:
- Netcode for GameObjects ‚Üí Install
- Unity Transport ‚Üí Install
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ NetworkManager:
```csharp
// –í–º–µ—Å—Ç–æ kcp2k.KcpTransport
using Unity.Netcode.Transports.UTP;

var transport = GetComponent<UnityTransport>();
transport.SetRelayServerData(
    allocation.RelayServer.IpV4,
    (ushort)allocation.RelayServer.Port,
    allocation.AllocationIdBytes,
    allocation.Key,
    allocation.ConnectionData
);
```

## üéØ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

### SimpleRelayManager:
- ‚úÖ **–í Unity Editor:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ LocalTestManager (localhost)
- ‚ùå **–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:** –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å kcp2k + Relay

### LocalTestManager:
- ‚úÖ **–í Unity Editor:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–õ–æ–≥–∏–∫–∞ matchmaking:** –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå **–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:** –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ LocalTestManager** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–°–æ–±–µ—Ä–∏—Ç–µ APK** —Å LocalTestManager –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–≥—Ä—ã
3. **–ü–æ–∑–∂–µ –∑–∞–º–µ–Ω–∏—Ç–µ** –Ω–∞ Unity Transport –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∏–≥—Ä—ã

### –î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:
1. **–ò–∑—É—á–∏—Ç–µ Unity Transport** –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. **–ó–∞–º–µ–Ω–∏—Ç–µ kcp2k** –Ω–∞ Unity Transport
3. **–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Unity Transport

## üìã –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π:

### –í–∞—Ä–∏–∞–Ω—Ç A: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å LocalTestManager
```
‚úÖ –ë—ã—Å—Ç—Ä–æ
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å
‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ multiplayer
‚ùå –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Unity Transport
```
‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ
‚ö†Ô∏è –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —Å–ª–æ–π
‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Unity Relay
‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

### –í–∞—Ä–∏–∞–Ω—Ç C: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Photon PUN
```
‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚úÖ –ì–æ—Ç–æ–≤—ã–π matchmaking
‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚ùå –í–Ω–µ—à–Ω—è—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
‚ùå –õ–∏–º–∏—Ç—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
```

## üéÆ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

**LocalTestManager** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ multiplayer:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π matchmaking
- ‚úÖ –ü–µ—Ä–≤—ã–π = —Ö–æ—Å—Ç, –≤—Ç–æ—Ä–æ–π = –∫–ª–∏–µ–Ω—Ç  
- ‚úÖ –õ–∏–º–∏—Ç 2 –∏–≥—Ä–æ–∫–∞
- ‚úÖ UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ—Å—Ç–∞—Ä—Ç –∏–≥—Ä—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ LocalTestManager –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã, –∞ Unity Relay –æ—Å—Ç–∞–≤—å—Ç–µ –¥–ª—è –±—É–¥—É—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

## üîß –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:

–ß—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ LocalTestManager:
1. –í —Å—Ü–µ–Ω–µ –∑–∞–º–µ–Ω–∏—Ç–µ `SimpleRelayManager` –Ω–∞ `LocalTestManager`
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ç–µ –∂–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã
3. –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫

**LocalTestManager –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ!** ‚úÖ
